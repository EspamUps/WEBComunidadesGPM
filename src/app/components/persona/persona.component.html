<br>
<div class="container">
    <div class="row">
        <div class="col-12"> <h2 style="text-align: center;">Personas</h2> <br> </div>
    </div>
    <form #frmPersona="ngForm" >

        <div class="row">
            <div class="col-lg-7">
                <div class="card">
                    <div class="card-body">
                        <div class="form-group"> 
                            <div class="row">
                                <div class="col-lg-6">
                                    <input required type="text" [(ngModel)]="_primerNombre" [ngModelOptions]="{standalone: true}" name="_primerNombre" (keyup)="_validarCompletos()" class="form-control"  aria-describedby="emailHelp" placeholder="Primer Nombre">
                                    <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
                                </div>
                                <div class="col-lg-6">
                                    <input type="text" [(ngModel)]="_segundoNombre" [ngModelOptions]="{standalone: true}" name="_segundoNombre" (keyup)="_validarCompletos()" class="form-control"  aria-describedby="emailHelp" placeholder="Segundo Nombre">
                                    <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>    -->
                                </div>
                            </div>
                        </div>
                        <div class="form-group"> 
                            <div class="row">
                                <div class="col-lg-6">
                                    <input required type="text" [(ngModel)]="_primerApellido" [ngModelOptions]="{standalone: true}" name="_primerApellido" (keyup)="_validarCompletos()" class="form-control"  aria-describedby="emailHelp" placeholder="Primer Apellido">
                                    <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
                                </div>
                                <div class="col-lg-6">
                                    <input required type="text" [(ngModel)]="_segundoApellido" [ngModelOptions]="{standalone: true}" name="_segundoApellido" (keyup)="_validarCompletos()" class="form-control"  aria-describedby="emailHelp" placeholder="Segundo Apellido">
                                    <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>    -->
                                </div>
                            </div>
                        </div>
                        <div class="form-group"> 
                            <div class="row">
                                <div class="col-lg-6">
                                    <select  [(ngModel)]="_cmbTipoIdentificacion" [ngModelOptions]="{standalone: true}" name="_cmbTipoIdentificacion" (change)="_validarCompletos()" class="form-control">
                                        <option value="0" disabled>Seleccionar tipo de identificación</option>
                                        <option *ngFor="let item of _listaTipoIdentificacion" value="{{item.IdTipoIdentificacionEncriptado}}" >{{ item.Descripcion }}</option>
                                    </select>
                                    <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
                                </div>
                                <div class="col-lg-6">
                                    <input required [(ngModel)]="_numeroIdentificacion" [ngModelOptions]="{standalone: true}" name="_numeroIdentificacion" (keyup)="_validarCompletos()" type="text" class="form-control"  aria-describedby="emailHelp" placeholder="Número de identificación">
                                    <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>    -->
                                </div>
                            </div>
                        </div>
                        <div class="form-group"> 
                            <div class="row">
                                <div class="col-lg-12">
                                    <select  [(ngModel)]="_cmbSexo" [ngModelOptions]="{standalone: true}" class="form-control" name="_cmbSexo" (change)="_validarCompletos()">
                                        <option value="0" disabled>Seleccionar sexo</option>
                                        <option *ngFor="let item of _listaSexos" value="{{item.IdSexoEncriptado}}" >{{ item.Descripcion }}</option>
                                    </select>
                                    <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
                                </div>
                            </div>
                        </div>      
                        <div class="form-group"> 
                            <input required [(ngModel)]="_telefono" [ngModelOptions]="{standalone: true}" name="_telefono" type="number" (keyup)="_validarCompletos()" class="form-control"  aria-describedby="emailHelp" placeholder="Telefono">
                            <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
                        </div> 
                        <!-- (ngSubmit)="_validarForm()" -->
                        <button  type="button" class="btn btn-primary" [disabled]="_validar" (click)="_validarForm()">{{_btnAccion}}</button>                       
                        <button *ngIf="_btnAccion==='Modificar'" type="button" class="btn btn-secondary" (click)="_refrescarForm()" style="float: right;">Refrescar <i class="fa fa-refresh" aria-hidden="true"></i></button>
                    </div>
                </div>
            </div>
            <div class="col-lg-5">
                <div class="card">
                    <div class="card-body">

                        <div class="form-group"> 
                            <div class="row">
                                <div class="col-lg-12"> <!-- [(ngModel)]="_cmbProvincia"  [ngModelOptions]="{standalone: true}" -->
                                    <select   #ComboProvincias
                                            
                                            name="_provincia" class="form-control"
                                            (change)="_cantonesDeUnaProvincia($event.target.value)">
                                        <option value="0" disabled>Seleccionar Provincia</option>
                                        <option *ngFor="let item of _listaProvincias" value="{{item.IdProvinciaEncriptado}}">{{ item.NombreProvincia }}</option>
                                    </select>
                                    <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
                                </div>
                            </div>
                        </div>
                        <div class="form-group"> 
                            <div class="row">
                                <div class="col-lg-12"> <!--  [(ngModel)]="_cmbCanton" [ngModelOptions]="{standalone: true}" -->
                                    <select  #ComboCantones
                                            
                                            name="_canton" 
                                            class="form-control"
                                            (change)="_parroquiasDeUnCanton($event.target.value)">
                                        <option value="0" disabled>Seleccionar Cantón</option>
                                        <option *ngFor="let item of _listaCantones" value="{{item.IdCantonEncriptado}}"> {{ item.NombreCanton }}</option>
                                    </select>
                                    <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
                                </div>
                            </div>
                        </div> 
                        <div class="form-group"> 
                            <div class="row">
                                <div class="col-lg-12"> <!--[ngModelOptions]="{standalone: true}"  [(ngModel)]="_cmbParroquia"-->
                                    <select   #ComboParroquias
                                            
                                            name="_parroquia" 
                                            class="form-control"
                                            (change)="_comunidadesDeUnaParroquia($event.target.value)">
                                        <option value="0" disabled>Seleccionar Parroquia</option>
                                        <option *ngFor="let item of _listaParroquias" value="{{item.IdParroquiaEncriptado}}">{{ item.NombreParroquia }}</option>
                                    </select>
                                    <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
                                </div>
                            </div>
                        </div> 
                        
                        <div class="form-group"> 
                            <input required [(ngModel)]="_direccion" [ngModelOptions]="{standalone: true}" name="_direccion" (keyup)="_validarCompletos()" type="text" class="form-control"  aria-describedby="emailHelp" placeholder="Dirección">
                            <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
                        </div>

                    </div>
                </div>
            </div>
        </div>

        
    </form>
<br>
    <!-- <div class="row">
        <div class="col-lg-12">
            <div class="card">
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                              <tr>
                                <th scope="col">Nombres</th>
                                <th scope="col">Apellidoa</th>
                                <th scope="col">Documento</th>
                                <th scope="col">Nº Documento</th>
                                <th scope="col" style="text-align: center;">Acciones</th>
                              </tr>
                            </thead>
                            <tbody class="scroll">
                                <tr *ngFor="let item of _listaPersonas">
                                    <td> {{ item.PrimerNombre }} {{ item.SegundoNombre }} </td>
                                    <td> {{ item.PrimerApellido}} {{item.SegundoApellido}} </td>
                                    <td> {{ item.TipoIdentificacion.Descripcion }} </td>
                                    <td> {{item.NumeroIdentificacion}} </td>
                                    <td class="form-group text-center"> 
                                        <div class="row">
                                            <div class="col-4">
                                                <button tooltip="Ver Información" 
                                                    class="btn btn-sm btn-outline-primary separacion-botones "
                                                    value="{{item.IdPersonaEncriptado}}"
                                                    (click)="_verPersona(item)">
                                                    <i class="fa fa-eye" aria-hidden="true"></i>
                                                </button>
                                            </div>
                                            <div class="col-4">
                                                <button tooltip="Modificar" 
                                                    class="btn btn-sm btn-outline-info separacion-botones "
                                                    value="{{item.IdPersonaEncriptado}}"
                                                    (click)="_prepararPersona(item)">
                                                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                                </button>
                                            </div>
                                            <div class="col-4">
                                                <button tooltip="Eliminar" *ngIf="item.Utilizado==0"
                                                    class="btn btn-sm btn-outline-danger separacion-botones"
                                                    value="{{item.IdPersonaEncriptado}}" (click)="_eliminarPersona(item)">
                                                    <i class="fa fa-trash" aria-hidden="true"></i>
                                                </button>
                                            </div>
                                        </div>
                                        
                                    
                                        
                                    
                                       
                                        
                                    </td>
                                    
                                </tr>
                            </tbody>
                        </table>
                      </div>
                </div>
            </div>
           
        </div>
    </div> -->

    <div class="row">
        <div class="col-md-12">
            <div class="form-group input-container">
                <i class="fa fa-search icon"></i>
                <input [(ngModel)]="filterPersona" type="text" class="form-control input-field"
                    placeholder="Ejem. Zambrano Zambrano">
            </div>

            <div class="tablaPersonas mat-elevation-z5">
                <table mat-table [dataSource]="_listaPersonas">
                    <ng-container matColumnDef="Nombres">
                        <th mat-header-cell *matHeaderCellDef> Nombres </th>
                        <td mat-cell *matCellDef="let element"> {{ element.PrimerNombre }} {{ element.SegundoNombre }}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Apellidos">
                        <th mat-header-cell *matHeaderCellDef> Apellidos </th>
                        <td mat-cell *matCellDef="let element"> {{ element.PrimerApellido}} {{element.SegundoApellido}}
                            </td>
                    </ng-container>
                    <ng-container matColumnDef="TipoIdentidicacion">
                        <th mat-header-cell *matHeaderCellDef> Documento </th>
                        <td mat-cell *matCellDef="let element"> {{ element.TipoIdentificacion.Descripcion }} </td>
                    </ng-container>
                    <ng-container matColumnDef="Identificacion">
                        <th mat-header-cell *matHeaderCellDef> No. Documento </th>
                        <td mat-cell *matCellDef="let element"> {{element.NumeroIdentificacion}} </td>
                    </ng-container>
                    <ng-container matColumnDef="Acciones">
                        <th colspan="2" mat-header-cell *matHeaderCellDef> Acciones </th>
                        <ng-container *matCellDef="let element">
                            <ng-container >
                                <td mat-cell>
                                    <button tooltip="Ver Información" placement="top"
                                        class="btn btn-sm btn-outline-primary separacion-botones"
                                        value="{{element.IdPersonaEncriptado}}"
                                        (click)="_verPersona(element)">
                                        <i class="fa fa-eye" aria-hidden="true"></i>
                                    </button>
                                </td>
                                <td mat-cell>
                                    <button tooltip="Modificar" placement="top"
                                        class="btn btn-sm btn-outline-info separacion-botones"
                                        value="{{element.IdPersonaEncriptado}}"
                                        (click)="_prepararPersona(element)">
                                        <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                    </button>
                                </td>
                                <td mat-cell>
                                    <button tooltip="Eliminar" placement="top" *ngIf="element.Utilizado==0"
                                        class="btn btn-sm btn-outline-danger separacion-botones"
                                        value="{{element.IdPersonaEncriptado}}" (click)="_eliminarPersona(element)">
                                        <i class="fa fa-trash" aria-hidden="true"></i>
                                    </button>
                                </td>
                            </ng-container>
                        </ng-container>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="tablaPersonas; sticky: true"></tr>
                    <tr mat-row *matRowDef="let row; columns: tablaPersonas;"></tr>
                </table>
            </div>
        </div>
    </div>

</div>